@page "/about"

@using EuroConnector.ClientApp.Data.Interfaces

@inject IVersionService VersionService

<MudText Typo="Typo.h3" id="page-title">About</MudText>

<MudText id="api-version">API Version: @(string.IsNullOrEmpty(apiVersion) ? "Loading..." : apiVersion)</MudText>

@code
    {
    [CascadingParameter]
    public Error Error { get; set; }

    private string apiVersion;

    protected override async Task OnInitializedAsync()
    {
        try
        {
            apiVersion = await VersionService.GetApiVersion();
        }
        catch (Exception ex)
        {
            Error.ProcessError(ex);
            apiVersion = "Error";
        }
    }
}
